<div class="modal-header">
  <h4 class="modal-title pull-left">Cập nhập tiến trình đề nghị</h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="onCancel()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="timeline-wrapper">
    <mgl-timeline [toggle]="toggle" [alternate]="alternate">
      <mgl-timeline-entry *ngFor="let entry of entries; let i = index;" (expand)="onExpandEntry($event, i)">
        <mgl-timeline-entry-header (click)="onHeaderClick($event)">
          <div> {{entry.progress.contentTask}}</div>
        </mgl-timeline-entry-header>
        <mgl-timeline-entry-content [expandAnimationTiming]="contentAnimation ? '200ms ease' : '0ms'"
          [collapseAnimationTiming]="contentAnimation ? '100ms ease' : '0ms'">
          <div class="row entrie-wrapper">
            <div class="row input-item"
              *ngIf="(!isAdmin || proposal.asigneeId == 3|| proposal.asigneeId == 1001|| proposal.asigneeId == 1151|| proposal.asigneeId == 1152)">
              <div class="col-md-4">
                <label class="item-label">Ngày phê duyệt:</label>
              </div>
              <div class="col-md-8">
                <input class="form-control inp" type="text" id="endDate" bsDatepicker
                  [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY'}" [(ngModel)]="entry.timeEnd">
              </div>
            </div>
            <div class="row input-item"
              *ngIf="(!isAdmin || proposal.asigneeId == 3|| proposal.asigneeId == 1001|| proposal.asigneeId == 1151|| proposal.asigneeId == 1152)">
              <div class="col-md-4">
                <label class="item-label">Perform by:</label>
              </div>
              <div class="col-md-8">
                <input class="form-control inp" type="text" [value]="entry.performBy" disabled>
              </div>
            </div>
            <div class="row input-item"
              *ngIf="(!isAdmin || proposal.asigneeId == 3|| proposal.asigneeId == 1001|| proposal.asigneeId == 1151|| proposal.asigneeId == 1152)">
              <div class="col-md-4">
                <label class="item-label">Note:</label>
              </div>
              <div class="col-md-8">
                <textarea class="form-control inp" [(ngModel)]="entry.note"></textarea>
              </div>
            </div>
            <div class="row input-item"
              *ngIf="(isAdmin || proposal.asigneeId == 3|| proposal.asigneeId == 1001|| proposal.asigneeId == 1151|| proposal.asigneeId == 1152)">
              <div class="col-md-4">
                <label class="item-label">Note admin:</label>
              </div>
              <div class="col-md-8">
                <textarea class="form-control inp" [(ngModel)]="entry.noteAdmin"></textarea>
              </div>
            </div>
            <button style="margin-top: 10px; " class="btn btn-primary btn-sm" (click)="saveProgress(i)">Save</button>
          </div>
        </mgl-timeline-entry-content>
        <mgl-timeline-entry-dot [class]="entry.timeEnd ? 'primary' : 'accent'" [size]="size"
          (click)="onDotClick($event)" [expandAnimationTiming]="dotAnimation ? '200ms ease' : '0ms'"
          [collapseAnimationTiming]="dotAnimation ? '100ms ease' : '0ms'"></mgl-timeline-entry-dot>
        <mgl-timeline-entry-side>{{entry.startDate}}</mgl-timeline-entry-side>
      </mgl-timeline-entry>
    </mgl-timeline>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-outline-danger btn-sm" (click)="onCancel()">Close</button>
</div>